# Rest API сервис "Справочник автомобилей"
Данный сервис позволяет хранить данные об автомобилях в базе данных, получать, добавлять, изменять и удалять их. А также получать статиску о базе данных: 
количество записей, даты первой и последней записи в таблице.

Данные конкретного автомобиля включают в себя:
  * _Регистрационный номер (в формате "АА999А96" или "АА999А996")_
  * _Марка_
  * _Цвет_
  * _Год выпуска_

## Функционал API
1. **Вывод списка**

      Вывод списка осуществляется выполненем `GET` запроса без параметров для получения всех записей в базе данных на адрес:
      
      

        http://localhost:8080/car-book

        

      Также можно получать записи автомобилей, указав один из следующих параметров в `Query`: *марка, цвет, год выпуска*

      <img src="https://user-images.githubusercontent.com/116365092/219968761-0adcb0d5-981c-4b74-8caa-e01e39885867.png" width=50% height=50%>
      
      Либо получить запись о конкретном автомобиле указав в запросе его `id`:
      
      
        http://localhost:8080/car-book/{id}
        
        
2. **Добавление автомобиля**

      Добавление автомобиля в базу данных происходит путем отправки `POST` запроса с `JSON` на адрес:
      
      
         http://localhost:8080/car-book 
         
         
3. **Изменение параметров автомобиля**

      Данный функционал позволяет изменить одновременно/раздельно марку, цвет и год выпуска автомобиля. Операция производится отправкой `PATCH` запроса с указанием `id` 
      автомобиля и необходимыми параметрами для изменения в `Query` на адрес:
      
        http://localhost:8080/car-book/{id}
        
      <img src="https://user-images.githubusercontent.com/116365092/219970085-2f1fdba6-fa89-47b4-b7cc-259f46e2b8e5.png" width=50% height=50%>
      
4. **Удаление записи об автомобиле**

      Удаление информации о конкретном автомобиле производится путем отправки `DELETE` запроса с указанием `id` автомобиля на адрес:
      
        http://localhost:8080/car-book/{id}
        
5. **Получение статистики базы данных**

      Получение ранее указанных данных производится путем отправки `GET` запроса на адрес:
      
        http://localhost:8080/car-book/db-statistic
        
# Дополнительные сведения 
 В качестве БД в данном проекте использовалась PostgreSQL. Запрос для создания таблицы записей об автомобилях:
      
```
        CREATE TABLE Car(
            id int GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
            registration_number varchar(9) UNIQUE NOT NULL ,
            brand varchar(60) NOT NULL ,
            color varchar(30) NOT NULL ,
            year_of_manufacture int CHECK (year_of_manufacture > 1885) NOT NULL ,
            created_at timestamp
        )
```  
 `UNIQUE` в колонке registration_number является необязательным условем, так как изначально планировалось сделать поиск, изменение и удаление записей по этому полю, но, в дальнейшем, было решено прийти к более стандартному варианту поиска записей по `id`.
